---
title: "Evaluations of positive and negative stimuli using the Affective Misattribution Procedure (AMP) and self-reports"
subtitle: "Data processing"
author: "Template: Ian Hussey; content: [Student name]"
date: "`r format(Sys.time(), '%d %B, %Y')`"
output:
  html_document:
    code_folding: hide
    highlight: haddock
    theme: flatly
    toc: yes
    toc_float: yes
---

# TODO

- Add data processing
- Combine data frames
- Save to disk

```{r, include=FALSE}

knitr::opts_chunk$set(message = FALSE,
                      warning = FALSE)

```

# Dependencies

```{r}

library(tidyverse)
library(janitor) # for clean_names()

```

# Get data

```{r}

# demographics
data_demographics_raw <- read_csv("../../../data/AMP study/raw/data_demographics_raw.csv") |>
  janitor::clean_names()

data_demographics_raw_messy <- read_csv("../../../data/AMP study/raw/data_demographics_raw_messy.csv", skip = 2) |>
  janitor::clean_names()

# self report measure
data_selfreport_raw <- read_csv("../../../data/AMP study/raw/data_selfreport_raw.csv") |>
  janitor::clean_names()

# affect attribution procedure
data_amp_raw <- read_csv("../../../data/AMP study/raw/data_amp_raw.csv") |>
  janitor::clean_names()

```

```{r}

dat <- data_demographics_raw_messy |>
  clean_names()

colnames(dat)

```


# Demographics

TODO extract age and gender data into wide format

```{r}



```

# Exclusions / data quality?

```{r}


```

# Self-reports

TODO extract self-reported evaluations and convert to a sum score

```{r}



```

# Affect Misattribution Procedure

TODO extract evaluations on the AMP test blocks and convert to an overall bias score

```{r}



```

# Combine

TODO combine demographics, self-reports and AMP into a single data frame in wide format, i.e., the processed data

```{r}



```

# Write to disk

TODO write the processed data to disk

```{r}



```

# Session info

```{r}

sessionInfo()

```


